(function(e){function t(t){for(var a,o,s=t[0],c=t[1],l=t[2],d=0,h=[];d<s.length;d++)o=s[d],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&h.push(r[o][0]),r[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);u&&u(t);while(h.length)h.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,s=1;s<n.length;s++){var c=n[s];0!==r[c]&&(a=!1)}a&&(i.splice(t--,1),e=o(o.s=n[0]))}return e}var a={},r={app:0},i=[];function o(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=a,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(n,a,function(t){return e[t]}.bind(null,a));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/four-in-a-row/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var u=c;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"005c":function(e,t,n){},"0ca1":function(e,t,n){"use strict";var a=n("111c"),r=n.n(a);r.a},"111c":function(e,t,n){},"41ba":function(e,t,n){e.exports=n.p+"img/me.1be4150f.jpg"},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var a=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("AppHeader"),n("router-view")],1)},i=[],o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-header-container"},[n("b-navbar",{attrs:{toggleable:"lg",type:"dark",variant:"info"}},[n("b-navbar-brand",{attrs:{href:"#"}},[e._v("Connect 4")]),n("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),n("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[n("b-navbar-nav",[n("b-nav-item",[n("router-link",{staticClass:"router-link",attrs:{to:"/"}},[e._v("Home")])],1),n("b-nav-item",[n("router-link",{staticClass:"router-link",attrs:{to:"/game"}},[e._v("Play")])],1),n("b-nav-item",[n("router-link",{staticClass:"router-link",attrs:{to:"/setting"}},[e._v("Settings")])],1),n("b-nav-item",[n("router-link",{staticClass:"router-link",attrs:{to:"/about"}},[e._v("About")])],1)],1)],1)],1)],1)},s=[],c={},l=c,u=(n("fa52"),n("2877")),d=Object(u["a"])(l,o,s,!1,null,"abe469dc",null),h=d.exports,f={components:{AppHeader:h}},m=f,p=(n("5c0b"),Object(u["a"])(m,r,i,!1,null,null,null)),v=p.exports,b=n("8c4f"),g=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[n("WelcomeScreen")],1)},y=[],x=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"bg-container"})},w=[],k={data:function(){return{}}},C=k,P=(n("f43f"),Object(u["a"])(C,x,w,!1,null,"dcf6794c",null)),O=P.exports,_={name:"home",components:{WelcomeScreen:O}},$=_,T=Object(u["a"])($,g,y,!1,null,null,null),B=T.exports,I=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},W=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"about"},[a("h3",[e._v("Matan Nadav")]),a("img",{attrs:{src:n("41ba"),alt:""}}),a("p",[e._v('\n      This project simulates the world-class and fun game "Connect 4" or "Four in a row".\n      '),a("br"),e._v("Its been an educating and fun challenge, hope you enjoy.\n    ")])])}],H={},j=H,S=(n("9b78"),Object(u["a"])(j,I,W,!1,null,"dc4aeffe",null)),R=S.exports,A=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"settings-container flex column"},[n("div",{staticClass:"players-inputs-container flex row"},[n("div",{staticClass:"form-container flex column"},[n("h5",[e._v("Player one settings")]),n("b-form-input",{attrs:{placeholder:"Enter your name"},model:{value:e.game.playerOne.name,callback:function(t){e.$set(e.game.playerOne,"name",t)},expression:"game.playerOne.name"}}),n("div",[n("h6",[e._v("Choose your color")]),n("b-form-input",{attrs:{type:"color",placeholder:"Player one color"},model:{value:e.game.playerOne.color,callback:function(t){e.$set(e.game.playerOne,"color",t)},expression:"game.playerOne.color"}})],1)],1),n("div",{staticClass:"form-container flex column"},[n("h5",[e._v("Player Two settings")]),n("b-form-input",{attrs:{placeholder:"Enter your name"},model:{value:e.game.playerTwo.name,callback:function(t){e.$set(e.game.playerTwo,"name",t)},expression:"game.playerTwo.name"}}),n("div",[n("h6",[e._v("Choose your color")]),n("b-form-input",{attrs:{type:"color",placeholder:"Player one color"},model:{value:e.game.playerTwo.color,callback:function(t){e.$set(e.game.playerTwo,"color",t)},expression:"game.playerTwo.color"}})],1)],1)]),n("div",{staticClass:"form-container flex column"},[n("h5",[e._v("Game Settings")]),n("h6",[e._v("At the moment more than 9*9 is not availble due to canvas size on page")]),n("b-form-input",{attrs:{type:"number",placeholder:"Rows"},model:{value:e.game.board.rows,callback:function(t){e.$set(e.game.board,"rows",t)},expression:"game.board.rows"}}),n("b-form-input",{attrs:{type:"number",placeholder:"Columns"},model:{value:e.game.board.columns,callback:function(t){e.$set(e.game.board,"columns",t)},expression:"game.board.columns"}}),n("b-form-input",{attrs:{type:"number",placeholder:"Number of Connections to win"},model:{value:e.game.board.numOfConnectionToWin,callback:function(t){e.$set(e.game.board,"numOfConnectionToWin",t)},expression:"game.board.numOfConnectionToWin"}})],1),n("button",{staticClass:"submit-btn",on:{click:e.submit}},[e._v("Submit and go to game")])])},M=[],G={data:function(){return{game:{board:{rows:6,columns:7,numOfConnectionToWin:4},playerOne:{color:"blue",name:"Shani",id:1},playerTwo:{color:"red",name:"Sam",id:2}}}},methods:{submit:function(){var e=this.game;this.$store.dispatch({type:"initGame",game:e}),this.$router.push("/game")}}},E=G,D=(n("0ca1"),Object(u["a"])(E,A,M,!1,null,"27445f6e",null)),X=D.exports,Y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"game-container"},[e.isActive?n("h4",{staticClass:"player-turn-head"},[e._v(e._s(e.currPlayer.name)+"'s turn to play")]):n("button",{staticClass:"start-over-btn",on:{click:e.restartGame}},[e._v("Start Game")]),n("div",{staticClass:"canvas-container"},[n("canvas",{ref:"canvas",staticClass:"canvas",staticStyle:{"z-index":"2"},on:{click:function(t){return e.cellClicked(t)}}}),n("canvas",{ref:"canvasAnimation",staticClass:"canvasAnimation",staticStyle:{"z-index":"0"}})])])},z=[],N=(n("7f7f"),n("6c7b"),n("20d6"),n("96cf"),n("3b8d")),J={data:function(){return{isActive:!1,canvas:null,canvasHelper:null,ctx:null,ctxHelper:null,animation:0,board:{},validPos:[],currPlayer:{}}},created:function(){this.$store.dispatch({type:"createBoard"}),this.$store.dispatch({type:"advanceTurn"}),this.currPlayer=this.$store.getters.getCurrPlayer,this.board=this.$store.getters.getBoard},mounted:function(){this.canvas=this.$refs.canvas,this.canvasHelper=this.$refs.canvasAnimation,this.ctx=this.canvas.getContext("2d"),this.ctxHelper=this.canvasHelper.getContext("2d");var e=100*this.$store.getters.getWidth,t=100*this.$store.getters.getHeight;this.canvas.width=e,this.canvas.height=t,this.canvasHelper.width=e,this.canvasHelper.height=t,this.isActive=!0,this.renderCanvas()},destroyed:function(){this.$store.dispatch("gameDefaults")},methods:{cellClicked:function(){var e=Object(N["a"])(regeneratorRuntime.mark((function e(t){var n,a,r,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0===this.animation&&this.isActive){e.next=2;break}return e.abrupt("return");case 2:if(n=100*Math.ceil(t.offsetX/100)-50,a=100*Math.ceil(t.offsetY/100)-50,r=Math.floor(t.offsetY/100),i=Math.floor(t.offsetX/100),o=this.validPos.findIndex((function(e){return e.x===n&&e.y===a&&!1===e.isPicked})),!(o>-1)){e.next=14;break}return this.animateCircle(n,a,this.currPlayer.id,o),e.next=11,this.$store.dispatch({type:"updateMatrix",cellX:r,cellY:i});case 11:this.validPos.length>2*this.board.numOfConnectionToWin-1&&this.checkWin(r,i),e.next=15;break;case 14:this.$swal.fire({type:"error",title:"Oops",text:"Not a valid cell"});case 15:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),drawCircle:function(e,t,n){this.ctxHelper.clearRect(0,0,this.canvasHelper.width,this.canvasHelper.height),this.ctx.beginPath(),this.ctx.arc(e,t,30,0,2*Math.PI),this.ctx.fillStyle=n,this.ctx.fill(),this.ctx.closePath()},animateCircle:function(e,t,n,a){if(this.animation<t){this.animation+=50;var r=this.currPlayer.color,i=setTimeout(this.animateCircle,100,e,t,n,a)}if(this.animation===t)return this.drawCircle(e,t,r),this.advanceGame(e,t,n,a),clearTimeout(i),void(this.animation=0);this.ctxHelper.save(),this.ctxHelper.clearRect(0,0,this.canvasHelper.width,this.canvasHelper.height),this.ctxHelper.beginPath(),this.ctxHelper.arc(e,this.animation,30,0,2*Math.PI),this.ctxHelper.fillStyle=this.currPlayer.color,this.ctxHelper.fill(),this.ctxHelper.closePath(),this.ctxHelper.restore()},paintRect:function(e,t,n,a){if("red"===a)this.ctx.globalAlpha=.6;else if("whitesmoke"===a)return void this.ctx.clearRect(e,t,n,n);this.ctx.beginPath(),this.ctx.fillStyle=a,this.ctx.fillRect(e,t,n,n),this.ctx.closePath(),this.ctx.globalAlpha=1},renderCanvas:function(){for(var e=0;e<=this.board.rows;e++)for(var t=0;t<=this.board.columns;t++)this.ctx.moveTo(0,100*t),this.ctx.lineTo(100*this.board.columns,100*t),this.ctx.stroke(),this.ctx.moveTo(100*e,0),this.ctx.lineTo(100*e,100*this.board.rows),this.ctx.stroke(),t<this.board.rows-1&&this.paintRect(100*e+5,100*t+5,90,"red"),t===this.board.rows-1&&this.validPos.length<this.board.matrix[0].length&&this.validPos.push({x:100*e+50,y:100*this.board.rows-50,isPicked:!1})},checkWin:function(e,t){for(var n=this.$store.getters.getBoard,a=n.matrix,r=0,i=0,o=0,s=0,c=0;c<n.rows-1;c++)if(a[c][t].pickedById===a[c+1][t].pickedById&&a[c][t].pickedById){if(i++,i===n.numOfConnectionToWin-1)return void this.announceWin(a[e][t].pickedById)}else i=0;i=0;for(var l=0;l<n.columns-1;l++)if(a[e][l].pickedById===a[e][l+1].pickedById&&a[e][l].pickedById){if(i++,i===n.numOfConnectionToWin-1)return void this.announceWin(a[e][t].pickedById)}else i=0;while(t+r<a[0].length-1){if(e-r>0)if(a[e-r][t+r].pickedById===a[e-r-1][t+r+1].pickedById&&a[e-r][t+r].pickedById){if(s++,s===n.numOfConnectionToWin-1)return void this.announceWin(a[e][t].pickedById)}else s=0;if(e+r<a.length-1)if(a[e+r][t+r].pickedById===a[e+r+1][t+r+1].pickedById&&a[e+r][t+r].pickedById){if(o++,o===n.numOfConnectionToWin-1)return void this.announceWin(a[e][t].pickedById)}else o=0;r++}r=0;while(t-r>0){if(e-r>0)if(a[e-r][t-r].pickedById===a[e-r-1][t-r-1].pickedById&&a[e-r][t-r].pickedById){if(o++,o===n.numOfConnectionToWin-1)return void this.announceWin(a[e][t].pickedById)}else o=0;if(e+r<a.length-1)if(a[e+r][t-r].pickedById===a[e+r+1][t-r-1].pickedById&&a[e+r][t-r].pickedById){if(s++,s===n.numOfConnectionToWin-1)return void this.announceWin(a[e][t].pickedById)}else s=0;r++}},advanceGame:function(){var e=Object(N["a"])(regeneratorRuntime.mark((function e(t,n,a,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.validPos[r]={x:t,y:n,isPicked:!0},50!==n&&(this.validPos.push({x:t,y:n-100,isPicked:!1}),this.paintRect(t-45,n-145,90,"whitesmoke")),e.next=4,this.$store.dispatch({type:"advanceTurn",id:a});case 4:this.currPlayer=this.$store.getters.getCurrPlayer;case 5:case"end":return e.stop()}}),e,this)})));function t(t,n,a,r){return e.apply(this,arguments)}return t}(),announceWin:function(){var e=Object(N["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.$swal.fire("Good job!","".concat(this.currPlayer.name," has won the game"),"success"),e.next=3,this.$store.dispatch("gameDefaults");case 3:this.isActive=!1;case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),restartGame:function(){var e=Object(N["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.validPos=[],this.ctx.clearRect(0,0,100*this.board.columns,100*this.board.rows),e.next=4,this.$store.dispatch({type:"createBoard"});case 4:this.currPlayer=this.$store.getters.getCurrPlayer,this.board=this.$store.getters.getBoard,this.canvas=this.$refs.canvas,this.ctx=this.canvas.getContext("2d"),this.canvas.width=100*this.$store.getters.getWidth,this.canvas.height=100*this.$store.getters.getHeight,this.isActive=!0,this.renderCanvas();case 12:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},F=J,q=(n("5da1"),Object(u["a"])(F,Y,z,!1,null,"2083ed6e",null)),K=q.exports;a["default"].use(b["a"]);var L=new b["a"]({mode:"history",base:"/four-in-a-row/",routes:[{path:"/",name:"home",component:B},{path:"/about",name:"about",component:R},{path:"/setting",name:"settings",component:X},{path:"/game",name:"game",component:K}]}),Q=n("2f62");a["default"].use(Q["a"]);var U=new Q["a"].Store({state:{game:{board:{rows:6,columns:7,numOfConnectionToWin:4,matrix:[]},playerOne:{color:"blue",name:"Player one",id:1},playerTwo:{color:"red",name:"Player two",id:2}},currPlayer:{}},getters:{getCurrPlayer:function(e){return e.currPlayer},getBoard:function(e){return e.game.board},getWidth:function(e){return e.game.board.columns},getHeight:function(e){return e.game.board.rows}},mutations:{setCurrPlayer:function(e){e.currPlayer.id&&1===e.currPlayer.id?e.currPlayer=e.game.playerTwo:e.currPlayer=e.game.playerOne},setMatrix:function(e,t){var n=t.cellX,a=t.cellY;e.game.board.matrix[n][a].pickedById=e.currPlayer.id},setGame:function(e,t){var n=t.playerOne,a=t.playerTwo,r=t.board;e.game.board.rows=r.rows,e.game.board.columns=r.columns,e.game.board.numOfConnectionToWin=r.numOfConnectionToWin,e.game.playerOne=n,e.game.playerTwo=a},setDefaultGame:function(e){e.currPlayer={},e.game.board.matrix=[]}},actions:{createBoard:function(e){for(var t=e.state.game.board,n=0;n<t.rows;n++){t.matrix[n]=[];for(var a=0;a<t.columns;a++)t.matrix[n][a]={x:n,y:a,pickedById:null}}},advanceTurn:function(e){e.commit("setCurrPlayer")},updateMatrix:function(e,t){e.commit("setMatrix",t)},initGame:function(e,t){e.commit("setGame",t.game)},gameDefaults:function(e){e.commit("setDefaultGame")}}}),V=n("5886"),Z=n("5f5b");n("f9e3"),n("2dd8");a["default"].use(Z["a"]),a["default"].config.productionTip=!1,a["default"].use(V["a"]),new a["default"]({router:L,store:U,render:function(e){return e(v)}}).$mount("#app")},"5b9f":function(e,t,n){},"5c0b":function(e,t,n){"use strict";var a=n("e332"),r=n.n(a);r.a},"5da1":function(e,t,n){"use strict";var a=n("5b9f"),r=n.n(a);r.a},"9b78":function(e,t,n){"use strict";var a=n("005c"),r=n.n(a);r.a},e332:function(e,t,n){},e619:function(e,t,n){},f43f:function(e,t,n){"use strict";var a=n("e619"),r=n.n(a);r.a},f833:function(e,t,n){},fa52:function(e,t,n){"use strict";var a=n("f833"),r=n.n(a);r.a}});
//# sourceMappingURL=app.dceaba06.js.map